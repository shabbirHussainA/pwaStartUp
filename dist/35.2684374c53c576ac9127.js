/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~11.3.0, @magento/upward-security-headers: ~1.0.14, @magento/pwa-theme-venia: ~2.4.0, @magento/pwa-buildpack: ~11.4.3, @magento/peregrine: ~14.2.1, @magento/pagebuilder: ~9.2.1, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.3, @apollo/client: ~3.5.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"5Shc":function(e,t,s){"use strict"
s.d(t,"a",function(){return u})
var o,r,n=s("VkAN"),i=s.n(n),a=s("UYTu"),c=Object(a.a)(o||(o=i()(["\n    mutation AddProductToWishlistFromGallery(\n        $wishlistId: ID!\n        $itemOptions: WishlistItemInput!\n    ) {\n        addProductsToWishlist(\n            wishlistId: $wishlistId\n            wishlistItems: [$itemOptions]\n        ) {\n            user_errors {\n                code\n                message\n            }\n        }\n    }\n"]))),u=Object(a.a)(r||(r=i()(["\n    query GetProductsInWishlistsForGallery {\n        customerWishlistProducts @client\n    }\n"])))
t.b={addProductToWishlistMutation:c,getProductsInWishlistsQuery:u}},W3X9:function(e,t,s){"use strict"
var o=s("pVnL"),r=s.n(o),n=s("q1tI"),i=s.n(n),a=s("17x9"),c=s("dN85"),u=s("yXPU"),l=s.n(u),d=s("dDsW"),b=s("pZLH"),p=s("+TN3"),f=s("FITH"),g=s("y1Xp"),m=s("5Shc"),y=s("gqS0"),O=s("oTwF"),h=s("LboF"),j=s.n(h),P=s("xKLo"),w={injectType:"singletonStyleTag",insert:"head",singleton:!0},T=(j()(P.a,w),P.a.locals||{}),v=s("lSNA"),S=s.n(v),I=s("JoNN"),W=s("QMhA"),M=s("I6fM"),x=s("J3e4")
function ownKeys(e,t){var s=Object.keys(e)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{}
t%2?ownKeys(Object(s),!0).forEach(function(t){S()(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var _=i.a.createElement(O.a,{size:20,src:I.a}),E=i.a.createElement(O.a,{size:20,src:W.a}),k=i.a.createElement(O.a,{size:20,src:M.a}),A=i.a.createElement(O.a,{size:20,src:c.a}),L=e=>{var t=(e=>{var{afterAdd:t,beforeAdd:s,item:o}=e,r=Object(g.a)(m.b,e.operations),[i,{data:a,error:c,loading:u}]=Object(b.a)(r.addProductToWishlistMutation),{client:y,data:{customerWishlistProducts:O}}=Object(p.a)(r.getProductsInWishlistsQuery),h=Object(n.useMemo)(()=>O.includes(o.sku)||u,[O,u,o.sku]),[j,P]=Object(n.useState)(0),{formatMessage:w}=Object(d.a)(),[{isSignedIn:T}]=Object(f.b)(),v=Object(n.useCallback)(l()(function*(){if(T)try{s&&(yield s()),yield i({variables:{wishlistId:"0",itemOptions:o}}),y.writeQuery({query:r.getProductsInWishlistsQuery,data:{customerWishlistProducts:[...O,o.sku]}}),t&&t()}catch(e){}else P(e=>++e)}),[i,t,s,y,O,T,o,r.getProductsInWishlistsQuery]),S=Object(n.useMemo)(()=>j?{type:"info",message:w({id:"wishlist.galleryButton.loginMessage",defaultMessage:"Please sign-in to your Account to save items for later."}),timeout:5e3}:null,[w,j]),I=Object(n.useMemo)(()=>a?{type:"success",message:w({id:"wishlist.galleryButton.successMessageGeneral",defaultMessage:"Item successfully added to your favorites list."}),timeout:5e3}:null,[a,w]),W=Object(n.useMemo)(()=>c?{type:"error",message:w({id:"wishlist.galleryButton.addError",defaultMessage:"Something went wrong adding the product to your wishlist."}),timeout:5e3}:null,[c,w])
return{buttonProps:Object(n.useMemo)(()=>({"aria-label":w({id:"wishlistButton.addText",defaultMessage:"Add to Favorites"}),isDisabled:h,onPress:v,type:"button"}),[w,v,h]),buttonText:e.buttonText&&e.buttonText(h),customerWishlistProducts:O,errorToastProps:W,handleClick:v,isSelected:h,loginToastProps:S,successToastProps:I}})(e),s=Object(n.useRef)(),{buttonProps:o,buttonText:a,errorToastProps:c,isSelected:u,loginToastProps:O,successToastProps:h}=t;(e=>{var{errorToastProps:t,loginToastProps:s,successToastProps:o}=e,[,{addToast:r}]=Object(x.a)()
Object(n.useEffect)(()=>{s&&r(_objectSpread(_objectSpread({},s),{},{icon:k}))},[r,s]),Object(n.useEffect)(()=>{o&&r(_objectSpread(_objectSpread({},o),{},{icon:_}))},[r,o]),Object(n.useEffect)(()=>{t&&r(_objectSpread(_objectSpread({},t),{},{icon:E}))},[r,t])})({errorToastProps:c,loginToastProps:O,successToastProps:h})
var{buttonProps:j}=Object(y.a)(o,s),P=Object(g.a)(T,e.classes),w=u?P.root_selected:P.root
return i.a.createElement("button",r()({ref:s,className:w},j),e.icon," ",a)}
t.a=L
L.defaultProps={icon:A},L.propTypes={afterAdd:a.func,beforeAdd:a.func,classes:Object(a.shape)({root:a.string,root_selected:a.string}),icon:a.element}},ogKZ:function(e,t,s){"use strict"
s.r(t)
var o=s("W3X9")
s.d(t,"default",function(){return o.a})},xKLo:function(e,t,s){"use strict"
var o=s("JPst"),r=s.n(o)()(function(e){return e[1]})
r.push([e.i,".addToListButton-root-n9w {\n    min-height: 3rem;\n}\n\n.addToListButton-root_selected-t6i {\n\n    --selectedColor: rgb(var(--venia-global-color-red-400));\n    --fill: var(--selectedColor);\n    --stroke: var(--selectedColor);\n}\n",""]),r.locals={root:"addToListButton-root-n9w gap-x-2xs inline-flex items-center min-w-[3rem]",root_selected:"addToListButton-root_selected-t6i addToListButton-root-n9w gap-x-2xs inline-flex items-center min-w-[3rem] no-underline"},t.a=r}}])
