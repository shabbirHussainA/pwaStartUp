import path from 'path';
import findRoot from 'find-root';
import resolvePkg from 'resolve-pkg';
/**
 * Returns a function which resolves filesystem base directories, given module
 * names. The returned function will resolve all modules starting from the `cwd`
 * passed to the resolver factory.
 */
export default function resolver(cwd) {
    return (modulePath) => {
        if (path.isAbsolute(modulePath) || modulePath.startsWith('.')) {
            return findRoot(path.resolve(cwd, modulePath));
        }
        return resolvePkg(modulePath, { cwd });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZXJGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc29sdmVyRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLElBQUksTUFBTSxNQUFNLENBQUM7QUFDeEIsT0FBTyxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBQ2pDLE9BQU8sVUFBVSxNQUFNLGFBQWEsQ0FBQztBQUlyQzs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE9BQU8sVUFBVSxRQUFRLENBQUMsR0FBVztJQUMxQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUU7UUFDcEIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDN0QsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUNoRDtRQUNELE9BQU8sVUFBVSxDQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyJ9