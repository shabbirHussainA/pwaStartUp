"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const find_root_1 = __importDefault(require("find-root"));
const resolve_pkg_1 = __importDefault(require("resolve-pkg"));
/**
 * Returns a function which resolves filesystem base directories, given module
 * names. The returned function will resolve all modules starting from the `cwd`
 * passed to the resolver factory.
 */
function resolver(cwd) {
    return (modulePath) => {
        if (path_1.default.isAbsolute(modulePath) || modulePath.startsWith('.')) {
            return (0, find_root_1.default)(path_1.default.resolve(cwd, modulePath));
        }
        return (0, resolve_pkg_1.default)(modulePath, { cwd });
    };
}
exports.default = resolver;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZXJGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc29sdmVyRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLGdEQUF3QjtBQUN4QiwwREFBaUM7QUFDakMsOERBQXFDO0FBSXJDOzs7O0dBSUc7QUFDSCxTQUF3QixRQUFRLENBQUMsR0FBVztJQUMxQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUU7UUFDcEIsSUFBSSxjQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDN0QsT0FBTyxJQUFBLG1CQUFRLEVBQUMsY0FBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUNoRDtRQUNELE9BQU8sSUFBQSxxQkFBVSxFQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVBELDJCQU9DIn0=