{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{U2Tj:function(n,e,t){\"use strict\"\nt.r(e),t.d(e,\"default\",function(){return T})\nvar o,a=t(\"q1tI\"),c=t.n(a),r=t(\"17x9\"),s=t(\"lSNA\"),i=t.n(s),u=t(\"yXPU\"),l=t.n(u),p=t(\"Ty5D\"),d=t(\"pZLH\"),b=t(\"y1Xp\"),O=t(\"FITH\"),g=t(\"VkAN\"),m=t.n(g),f=t(\"UYTu\"),w={signOutMutation:Object(f.a)(o||(o=m()([\"\\n    mutation SignOutFromMenu {\\n        revokeCustomerToken {\\n            result\\n        }\\n    }\\n\"])))},v=t(\"Cess\")\nfunction ownKeys(n,e){var t=Object.keys(n)\nif(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n)\ne&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{}\ne%2?ownKeys(Object(t),!0).forEach(function(e){i()(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var h=t(\"+h8t\"),j=t(\"i8h6\"),y=t(\"1Ek8\"),C=t(\"jBXQ\"),M=t(\"LboF\"),S=t.n(M),A=t(\"ooJc\"),_={injectType:\"singletonStyleTag\",insert:\"head\",singleton:!0},k=(S()(A.a,_),A.a.locals||{}),I=c.a.forwardRef((n,e)=>{var{handleTriggerClick:t,accountMenuIsOpen:o,setAccountMenuIsOpen:r}=n,s=(n=>{var{accountMenuIsOpen:e,setAccountMenuIsOpen:t}=n,o=Object(b.a)(w,n.operations),{signOutMutation:c}=o,[r,s]=Object(a.useState)(\"SIGNIN\"),[i,u]=Object(a.useState)(\"\"),g=Object(p.g)(),m=Object(p.h)(),[f]=Object(d.a)(c),[{isSignedIn:h,currentUser:j},{signOut:y}]=Object(O.b)(),[,{dispatch:C}]=Object(v.b)(),M=Object(a.useCallback)(l()(function*(){s(\"SIGNIN\"),t(!1),yield y({revokeToken:f}),C({type:\"USER_SIGN_OUT\",payload:_objectSpread({},j)}),g.go(0)}),[g,f,t,y,j,C]),S=Object(a.useCallback)(()=>{s(\"FORGOT_PASSWORD\")},[]),A=Object(a.useCallback)(()=>{s(\"SIGNIN\")},[]),_=Object(a.useCallback)(()=>{s(\"CREATE_ACCOUNT\")},[]),k=Object(a.useCallback)(()=>{s(\"ACCOUNT\")},[])\nreturn Object(a.useEffect)(()=>{t(!1)},[m,t]),Object(a.useEffect)(()=>{s(h?\"ACCOUNT\":\"SIGNIN\")},[e,h]),{handleAccountCreation:k,handleCreateAccount:_,handleForgotPassword:S,handleCancel:A,handleSignOut:M,updateUsername:u,username:i,view:r}})({accountMenuIsOpen:o,setAccountMenuIsOpen:r}),{view:i,username:u,handleAccountCreation:g,handleSignOut:m,handleForgotPassword:f,handleCancel:M,handleCreateAccount:S,updateUsername:A}=s,_=Object(b.a)(k,n.classes),I=o?_.root_open:_.root_closed,T=o?_.contents_open:_.contents,N=null\nswitch(i){case\"ACCOUNT\":N=c.a.createElement(y.a,{onSignOut:m})\nbreak\ncase\"FORGOT_PASSWORD\":N=c.a.createElement(C.a,{initialValues:{email:u},onCancel:M})\nbreak\ncase\"CREATE_ACCOUNT\":N=c.a.createElement(h.a,{classes:{root:_.createAccount},initialValues:{email:u},isCancelButtonHidden:!1,onSubmit:g,onCancel:M})\nbreak\ncase\"SIGNIN\":default:N=c.a.createElement(j.a,{handleTriggerClick:t,classes:{modal_active:_.loading},setDefaultUsername:A,showCreateAccount:S,showForgotPassword:f})}return c.a.createElement(\"aside\",{className:I},c.a.createElement(\"div\",{ref:e,className:T},o?N:null))}),T=I\nI.propTypes={classes:Object(r.shape)({root:r.string,root_closed:r.string,root_open:r.string,link:r.string,contents_open:r.string,contents:r.string})}},ooJc:function(n,e,t){\"use strict\"\nvar o=t(\"JPst\"),a=t.n(o)()(function(n){return n[1]})\na.push([n.i,\".accountMenu-root-giO {\\n\\n    transition: opacity 192ms var(--venia-global-anim-out),\\n        visibility 192ms var(--venia-global-anim-out),\\n        /* Adding delay to move container off the screen after previous transitions happened */\\n            left 0s 192ms;\\n    width: calc(100vw - 2rem);\\n}\\n\\n.accountMenu-root_closed-YH9 {\\n\\n    visibility: hidden;\\n}\\n\\n.accountMenu-root_open-rIj {\\n    transition: opacity 224ms var(--venia-global-anim-in),\\n        visibility 224ms var(--venia-global-anim-in), left 0s;\\n    visibility: visible;\\n}\\n\\n.accountMenu-contents-ke8 {\\n    min-height: 10rem;\\n    transform: translate3d(0, -8px, 0);\\n    transition-duration: 192ms;\\n    transition-property: transform;\\n    transition-timing-function: var(--venia-global-anim-out);\\n}\\n\\n.accountMenu-contents_open-0au {\\n\\n    transform: translate3d(0, 4px, 0);\\n    transition-duration: 224ms;\\n    transition-timing-function: var(--venia-global-anim-in);\\n}\\n\\n.accountMenu-createAccount-1aw {\\n}\\n\\n.accountMenu-forgotPassword-nrQ {\\n}\\n\\n.accountMenu-loading-0Pd {\\n}\\n\",\"\"]),a.locals={root:\"accountMenu-root-giO absolute h-0 max-w-[100vw] opacity-0 overflow-visible top-full z-menu -translate-x-1/2\",root_closed:\"accountMenu-root_closed-YH9 accountMenu-root-giO absolute h-0 max-w-[100vw] opacity-0 overflow-visible top-full z-menu -translate-x-1/2 left-[-100vw]\",root_open:\"accountMenu-root_open-rIj accountMenu-root-giO absolute h-0 max-w-[100vw] opacity-0 overflow-visible top-full z-menu -translate-x-1/2 left-1/2 opacity-100\",contents:\"accountMenu-contents-ke8 absolute bg-white grid right-0 rounded-sm shadow-menu top-0 w-[27.5rem]\",contents_open:\"accountMenu-contents_open-0au accountMenu-contents-ke8 absolute bg-white grid right-0 rounded-sm shadow-menu top-0 w-[27.5rem]\",createAccount:\"accountMenu-createAccount-1aw grid gap-xs justify-items-stretch px-sm py-xs\",forgotPassword:\"accountMenu-forgotPassword-nrQ p-md\",loading:\"accountMenu-loading-0Pd p-md\"},e.a=a}}])\n","extractedComments":[]}